{% extends "user/base.html" %}

{% block header %}
<script src="{{ url_for('static', filename='js/tinymce-5.10.4/tinymce.min.js') }}" referrerpolicy="origin"></script>
{{ super() }}
{% endblock %}

{% block content %}
<script>
    tinymce.init({
      selector: '#tinymce',
      toolbar: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image emoticons',
      plugins: [
        'advlist autolink lists link image charmap anchor autosave autoresize paste searchreplace',
        'searchreplace visualblocks fullscreen quickbars',
        'insertdatetime media codesample table paste imagetools wordcount hr emoticons nonbreaking toc'
      ],
      imagetools_cors_hosts: ['google.com', 'dropbox.com', 'eklislutherie.re', '127.0.0.1'],
      autosave_restore_when_empty: true,
      autosave_retention: '21600m', /* 15 days */
      quickbars_selection_toolbar: 'bold italic | formatselect | quicklink blockquote',
    });
</script>

<div class="container-fluid mt-5">
    <div class="col text-center">
        {% if form.content.default %}
            <h1>Modifier la réalisation</h1>
        {% else %}
            <h1>Nouvelle Réalisation</h1>
        {% endif %}
    </div>

    <form action="" method="post" enctype="multipart/form-data">
        {{ form.hidden_tag() }}

        {% if errors %}
        <div class="form-group alert alert-danger">
            <ul>
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {{ form.title() }}
        {{ form.subtitle() }}
        {{ form.cover_img(accept=".jpeg,.jpg,.png,.gif,.bmp") }}
        {{ form.content(id="tinymce") }}
        {{ form.tags() }}

        
        {{ form.submit(class="btn btn-lg btn-success") }}
    </form>
</div>

{% endblock %}